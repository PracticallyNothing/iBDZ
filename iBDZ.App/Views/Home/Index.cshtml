@using Microsoft.AspNetCore.Identity
@using iBDZ.Data;

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@{
    ViewData["Title"] = "Home Page";
}

<h1 class="text-center">Welcome to iBDZ!</h1>
<h4 class="text-center">Your first stop for your train needs.</h4>

<br />
<br />
<br />

<style>
    fieldset {
        padding: 15px;
    }

    legend {
        border: none;
        width: auto;
        margin: 0 auto;
        padding-left: 5px;
        padding-right: 5px;
        font-size: 27pt;
    }
</style>

<div class="text-center">
    <fieldset style="border: 1px black solid;">
        <legend>Our Services</legend>
        <div>
            <h3 style="">Have a look at the <a href="/Train/Timetable">Timetable</a> for information on trains.</h3>
        </div>

        @if (SignInManager.IsSignedIn(User))
        {
            <div class="text-center">
                <h3>
                    <a href="/Seat/Find">Find seating</a> for your next trip.<br />
                </h3>
            </div>
            <div class="text-center">
                <h3>
                    Review your <a href="/User/Purchases">purchases</a>.
                </h3>
            </div>
        }
        else
        {
            <hr />

            <div class="text-center">
                <h2>You don't seem to be logged in.</h2>
                <a href="/Identity/Account/Login" class="text-primary"><h3>Click here to login.</h3></a>
                <a href="/Identity/Account/Register" class="text-primary"><h3>Click here to register with our service.</h3></a>
            </div>
        }
    </fieldset>
</div>

<br />

<style>
    #TimetablePanel {
        background-image: url("images/train4.jpg")
    }

    #FindSeatsPanel {
        background-image: url("images/kupe.png");
    }

    #PurchasesPanel {
        background-image: url("images/wallet.png");
    }

    .MyPanel {
        height: 200px;
        line-height: 200px;
        width: 100%;
        text-align: center;
        font-size: 22pt;
        margin-top: 15px;
        background-color: white;
        transition: all 0.35s ease-out;
        background-size: 100% 200%;
        background-position: center;
        background-repeat: no-repeat;
        filter: brightness(50%);
    }

        .MyPanel:hover {
            cursor: pointer;
            filter: brightness(115%);
            background-size: 125% 250%;
            transition: all 0.15s ease-in;
        }

    .MyPanelText {
        display: inline-block;
        vertical-align: middle;
        line-height: normal;
        background-color: black;
        color: white;
        padding: 7px;
        border-radius: 6px;
    }
</style>

<div class="text-center">
    <fieldset style="border: 1px black solid;">
        <legend>Our Services</legend>

        <div class="MyPanel" id="TimetablePanel" onclick="window.location.href = '/Train/Timetable'">
            <p class="MyPanelText">
                Have a look at the timetable for information on trains.
            </p>
        </div>

        <div class="MyPanel" id="FindSeatsPanel" onclick="window.location.href = '/Seat/Find'">
            <p class="MyPanelText">
                Find and reserve seats for your next trip.
            </p>
        </div>

        <div class="MyPanel" id="PurchasesPanel" onclick="window.location.href = '/User/Purchases'">
            <p class="MyPanelText">
                Review your purchases.
            </p>
        </div>
    </fieldset>
</div>
